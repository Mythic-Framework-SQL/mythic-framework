"use strict";(self.webpackChunkhrrp_phone=self.webpackChunkhrrp_phone||[]).push([[5550],{5550:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var n=r(39337),a=r(66525),c=r(28931),l=r(16906),o=r(39469),i=r(28112),s=r(22507),u=r(73593),m=r(82229),d=r(63790),f=r(37241),p=r(65425),y=r(17337),E=r.n(y),h=r(88881);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,l,o=[],i=!0,s=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=(0,f.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,"& span":{marginLeft:5,fontSize:12,color:e.palette.text.alt,"&::before":{content:'"("'},"&::after":{content:'")"'}}},track:{background:e.palette.secondary.dark},youindic:{color:"gold"},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},owned:{color:"gold",marginLeft:5}}}));const S=function(e){var t=v(),r=(0,a.d4)((function(e){var t;return null===(t=e.data.data.player.Alias)||void 0===t?void 0:t.redline})),f=(0,a.d4)((function(e){return e.data.data.tracks})),y=(0,a.d4)((function(e){return e.race.races})).filter((function(e){return 2==e.state})).sort((function(e,t){return t.time-e.time})),A=g((0,n.useState)(null),2),S=A[0],b=A[1],k=g((0,n.useState)(null),2),w=k[0],N=k[1];return n.createElement("div",{className:t.wrapper},n.createElement("div",null,y.length>0?y.map((function(e,a){var y=f.filter((function(t){return t._id==e.track}))[0];return y?n.createElement(c.A,{key:"race-".concat(a),className:t.track,expanded:w===a,onChange:w===a?function(){return N(null)}:function(){return N(a)}},n.createElement(l.A,{expandIcon:n.createElement(p.g,{icon:["fas","chevron-down"]})},n.createElement(o.A,{className:t.heading},e.name,null!=e.racers[r]&&n.createElement("span",{className:t.youindic},"*")),n.createElement(o.A,{className:t.secondaryHeading},y.Name)),n.createElement(i.A,null,n.createElement(s.A,null,n.createElement(u.Ay,null,n.createElement(m.A,{primary:"Name",secondary:e.name})),n.createElement(u.Ay,null,n.createElement(m.A,{primary:"Host",secondary:"".concat(e.host)})),n.createElement(u.Ay,null,n.createElement(m.A,{primary:"Track",secondary:"".concat(y.Name," (").concat(y.Distance,")")})),n.createElement(u.Ay,null,n.createElement(m.A,{primary:"# of Laps",secondary:e.laps})),n.createElement(u.Ay,null,n.createElement(m.A,{primary:"Racers",secondary:Object.keys(e.racers).length>0?"".concat(Object.keys(e.racers).length," Racers"):null})),n.createElement(u.Ay,null,n.createElement(s.A,null,n.createElement(u.Ay,null,n.createElement(d.A,{variant:"contained",color:"primary",onClick:function(){return b(e)}},"View Racers"))))))):null})):n.createElement("div",{className:t.emptyMsg},"No Recent Races"),n.createElement(h.aF,{open:null!=S,title:"Race Results",onClose:function(){return b(null)}},null!=S&&n.createElement(s.A,null,Object.keys(S.racers).filter((function(e){return S.racers[e].finished})).sort((function(e,t){var r,n;return(null===(r=S.racers[e])||void 0===r?void 0:r.place)-(null===(n=S.racers[t])||void 0===n?void 0:n.place)})).map((function(e){var r=E().duration(S.racers[e].fastest.lapEnd-S.racers[e].fastest.lapStart);return n.createElement(u.Ay,null,n.createElement(m.A,{primary:n.createElement("span",null,"#".concat(S.racers[e].place," ").concat(e),Boolean(S.racers[e].isOwned)&&n.createElement(p.g,{className:t.owned,icon:["fas","award"]})),secondary:n.createElement("div",null,n.createElement("span",null,"Cash: $".concat(S.racers[e].reward.cash).concat(S.racers[e].reward.crypto>0?", $".concat(S.racers[e].reward.coin,": ").concat(S.racers[e].reward.crypto):"")),n.createElement("div",null,"Fastest Lap:"," ","".concat(String(r.hours()).padStart(2,"0"),":").concat(String(r.minutes()).padStart(2,"0"),":").concat(String(r.seconds()).padStart(2,"0"),":").concat(String(r.milliseconds()).padStart(3,"0"))))}))})),Object.keys(S.racers).filter((function(e){return!S.racers[e].finished})).map((function(e){return n.createElement(u.Ay,null,n.createElement(m.A,{primary:"".concat(e),secondary:"DNF"}))}))))))}}}]);